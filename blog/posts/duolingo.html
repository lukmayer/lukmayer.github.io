<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Luke">
<meta name="dcterms.date" content="2024-09-21">
<meta name="description" content="My review after 5+ years of daily use">

<title>2000+ days of Duolingo - Worth it? – lukmayer.github.io</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../assets/favicons/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2fa0555fe88427c29efa1b60aaf9e62d.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-6d7e7b9b3dbd114c66b233ded7072392.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-7945e2a833f1e1b32e2a8ee894f2be5e.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-034891b1a1cc1f845fd10fe5f270baab.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="2000+ days of Duolingo - Worth it? – lukmayer.github.io">
<meta property="og:description" content="My review after 5+ years of daily use">
<meta property="og:image" content="https://lukmayer.github.io/blog/posts/images/duo.png">
<meta property="og:site_name" content="lukmayer.github.io">
<meta property="og:image:height" content="845">
<meta property="og:image:width" content="1502">
<meta name="twitter:title" content="2000+ days of Duolingo - Worth it? – lukmayer.github.io">
<meta name="twitter:description" content="My review after 5+ years of daily use">
<meta name="twitter:image" content="https://lukmayer.github.io/blog/posts/images/duo.png">
<meta name="twitter:image-height" content="845">
<meta name="twitter:image-width" content="1502">
<meta name="twitter:card" content="summary_large_image">
<link rel="canonical" href="https://lukmayer.github.io/blog/posts/duolingo.html">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">lukmayer.github.io</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research/index.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../cv/index.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about/index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../now/index.html"> 
<span class="menu-text">Now</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://lukmayer.github.io/login_portal/"> 
<span class="menu-text">Login</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">2000+ days of Duolingo - Worth it?</h1>
                  <div>
        <div class="description">
          My review after 5+ years of daily use
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">software</div>
                <div class="quarto-category">duolingo</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Luke </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 21, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="4">
    <h2 id="toc-title">Sections:</h2>
   
  <ul>
  <li><a href="#duolingo-in-a-nutshell" id="toc-duolingo-in-a-nutshell" class="nav-link active" data-scroll-target="#duolingo-in-a-nutshell">Duolingo in a nutshell</a></li>
  <li><a href="#the-good" id="toc-the-good" class="nav-link" data-scroll-target="#the-good">The good!</a></li>
  <li><a href="#the-bad" id="toc-the-bad" class="nav-link" data-scroll-target="#the-bad">The bad?</a></li>
  <li><a href="#the-ugly" id="toc-the-ugly" class="nav-link" data-scroll-target="#the-ugly">The ugly…</a></li>
  <li><a href="#final-judgement" id="toc-final-judgement" class="nav-link" data-scroll-target="#final-judgement">Final Judgement</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>I started using Duolingo as an undergraduate student wanting to learn a bit of Swedish all the way back in 2019. While even back then I thought the interactivity of Duolingo was compelling, so much about the app has changed since those first days I experienced. As I mentioned, my language journey started with Swedish, but I actually only stuck with that for about 2 months before figuring French would be more useful to learn. French has been the main thing I have been using the app for ever since, with a few other languages being tried out on the side. Now that I’ve been continuously using the app for over half a decade, I thought it would be interesting to reflect on the intricacies of Duolingo, so what I feel it does well, less well, and what I think about the directions the creators have been taking.</p>
<p><br>
</p>
<section id="duolingo-in-a-nutshell" class="level2">
<h2 class="anchored" data-anchor-id="duolingo-in-a-nutshell">Duolingo in a nutshell</h2>
<p>For anyone not familiar, a quick description. Duolingo offers various structured language courses in which users complete a series of bite-sized lessons to progress through the course. Lessons are grouped around topics, meaning you might begin with learning greetings, before learning about the names of foods, etc. The lessons feature different types of exercises, such as translating sentences, listening to audio and typing what you hear, and matching words to their translations.</p>
<p>The app is gamified, with users earning gems (formerly “lingots”) for completing lessons, and streaks for completing lessons on consecutive days. Over the years various other features were added such as daily quests, monthly quests, quests with friends, streak rewards, leaderboards to compete on, social nudges, congratulating friends for accomplishments, and much more. The developers also have added completely different types of lessons to some courses. One of these spins is called stories, in which the learner follows some interaction between the various characters the app uses and answers questions about the story.</p>
<p><br>
</p>
</section>
<section id="the-good" class="level2">
<h2 class="anchored" data-anchor-id="the-good">The good!</h2>
<p>First, Duolingo is free to use, with all the best functionality being available for free-tier users. This is in stark contrast to other popular language learning apps, which hide most of their content behind usually quite sizeable paywalls. There are a lot of different courses available, so whatever you’re interested in is probably represented. The app is extremely popular, meaning you likely already have quite a few friends using it, which can be a great motivator.</p>
<p>The streak system is actually surprisingly effective once you have established the habit of daily practice, and is actually much more sophisticated than first meets the eye. For example, Duolingo has developed a system to help “nudge” users into practice. One of these systems is the use of notifications that are tailored to the user, pushing the notification at the time and with the message that is most likely to be effective for them. Another such system is the introduction of a dynamic app icon. Basically, the later in the day you are without having done a lesson on Duolingo, the more desperate Duo (the Duolingo owl) will look on your home-screen. Their widget, which follows a very similar design is also pretty well received. All in all, the gamification works pretty well with the different quests, the ability to “compete” with strangers, the social features and the Role-Playing-Game-esque character creator.</p>
<p>I also like the stories a lot, sometimes they are surprisingly funny or have unexpected twists, far exceeding my expectations. The sheer breadth of the app is quite impressive, especially for it being free and in the context of the much more humble beginnings I experienced in 2019.</p>
<p><br>
</p>
</section>
<section id="the-bad" class="level2">
<h2 class="anchored" data-anchor-id="the-bad">The bad?</h2>
<p>While Duolingo supports a lot of languages, the quality of the courses can vary quite a bit. Some courses are very well-developed, with a lot of content and a lot of different types of exercises. Others are much more limited, with only a few types of exercises and a much smaller amount of content. This is especially true for the less popular languages. The languages that are by far the best supported are English, Spanish, and French. The gap between French and all the other non-top-3 languages is quite large.</p>
<p>According to Duolingo’s own classification, my French skill as someone who practiced roughly 20 minutes a day for 2000 days is currently equivalent to B1 level in the European classification framework and I will soon move to B2. I have to say that I don’t think I am anywhere near that level! My own sense is that my reading may be somewhat near that level, with my listening being much closer to A2, and my speaking and writing abilities probably still somewhere around A1. The limited transfer I am describing here is actually a pretty common criticism of Duolingo, and I think it is a fair one.</p>
<p>The app is great for getting started with a language, but their method does not really scale all that well for speaking, rather than reading. To elucidate, the difficulty progression in Duolingo when compared to the first few lessons in a course seems to be in the form of using various different tenses and grammatical forms, more complex expressions, and the much greater vocabulary. I think this is great for learning to read the language. However, Duolingo, unlike other apps, does not really focus so much on those common phrases that you’d likely fall back on when speaking prior to fluency. For example, you might learn greetings or how to order in a restaurant at one point, but you are unlikely to see these phrases again when having moved on to a different topic, despite their out-sized importance.</p>
<p>As I see it, Duolingo currently really lacks that space for you to practice generating your own prose, which is a real shame. One thing they could have done, which is what some other language apps tried (though mostly unsuccessfully), is to let users talk to each other. Of course, that would have required some content moderation system, which is probably why they didn’t do it. With LLM’s now popularized, they certainly have the opportunity to have conversational spaces, but nothing of the such is currently available at free-tier.</p>
<p>The last thing I want to mention in this part is that it feels like Duolingo is sleeping a little on a lot of opportunities to gamify their app further. I have always thought that its strange that you get lingots/gems for completing things, but without them having many uses. If you use the web-app their only use is buying “streak freezes” and “wagers”, which are trivial expenses if you are a regular user. On the mobile app there are a few other things you can buy, such as “boosts” which can be handy for the timed challenges (a feature I don’t think is worth using). I don’t really think you need to be some kind of game-design genius to realize that people may find it interesting to spend gems on customizing their profile or character, or on social features, and yet this barely exists. Some other missed opportunities are the badges for completing monthly challenges that no-one else can see, the highly limited profile statistics, the user-created character not being visible anywhere in the app outside the profile page, and probably many more. I really don’t see why features of this kind, which are often what drives people to buy subscriptions in other apps, are seemingly not being developed? I am hopeful though that the company will come to realize this eventually, as the introduction of the character creator is a fairly recent, and very welcome addition that clearly goes in this direction. Maybe they don’t have the resources to develop stuff like this all that quickly. I’ll give them the benefit of the doubt.</p>
<p><br>
</p>
</section>
<section id="the-ugly" class="level2">
<h2 class="anchored" data-anchor-id="the-ugly">The ugly…</h2>
<p>In this section, I aim to describe some trends I have observed as a long-time user, hopefully without sounding too much like a grumpy old man.</p>
<p>In essence, Duolingo claims to be a mission-driven learning company wanting to enable learning for all, but it feels as though this noble goal is being slightly corrupted by good ol’ corporate greed. In some sense, Duolingo is increasingly following the usual Tech company recipe of “first capture the market, then aggressively monetize”. The company has been shifting away from user-centric design, which feels ironic because its more user-centric past approach is arguably what made it so successful in the first place. I’ll give you a few examples to paint the picture.</p>
<p>Firstly, anyone used to be able to contribute to courses, with submissions curated by moderators. Then, this was removed in favor of professional curation for better quality control. Professionally made content sounds great, until you realize that in practice, most of the non-top-3 languages have essentially not received any meaningful updates since this change was made. Why not just keep letting people work for you for free?</p>
<p>Secondly, courses used to be organized in a tree-like structure, meaning you could work on more than one topic at a time. Users liked this because cranking through 6 lessons of animal names before moving on can be a tad bit monotonous. Then Duolingo changed all courses to a “path” structure, allowing you to only do one topic at a time. The backlash in the community was very noticeable in the forums, but this change was neither reverted nor made optional.</p>
<p>Thirdly, you used to be able to make as many errors as you could help in a lesson, but then Duolingo introduced the “hearts” system, which limits the amount of errors you can make before you are kicked out of the lesson and have to earn more hearts through fairly monotonous revision lessons. People really hated this, with the Duolingo forums full of complaints and users vowing left, right, and center to boycott the app. This did not deter them from pushing it through, saying their internal research (not publicized) showed it improved learning. I actually can sort of see how having to manage a finite resource might improve your focus, and how the hearts system also naturally gives rise to revision of old concepts. But my god, they really should have been more careful with introducing such a drastic change, especially given the surrounding controversy!</p>
<p>Whenever you made a mistake, and you didn’t understand what was wrong about your answer, you used to be able to access a little comment section, where people explained why certain answers are right/wrong. Then Duolingo removed this, probably because it was fairly hidden, and because it is something that requires moderation. Remember when I mentioned you could use LLM’s to make Duolingo more conversational? This is Duolingo’s answer to the now defunct way of asking for help, and its currently being developed as a double premium feature, meaning even premium users would have to pay extra to access it. “Duolingo Max” is a steep 14$ a month subscription, and that is when you commit to reduced-price yearly plan! I can’t say I’ve tried it, but the functionality does not seem bad at all. It’s just that it’s feels like a bit of a slap in the face to have this be what defines a second, more expensive tier of premium at the expense of a perfectly good user-driven system. Why not retain the comment system and offer the AI as part of the relatively weak premium offering, even if you have to raise the price slightly?</p>
<p>All these changes very much feel like they were made to boost the attractiveness of their paid subscriptions, since you get access to other activities making the new extra monotonous design less of a pain, and by upgrading automatically turn off that highly scientific feature that totally boosts learning. You don’t understand why a certain answer you gave was wrong? Why see what other people say for free when you could fork over 14$ a month for the privilege of asking the AI? By the way, what did Duolingo do when their forums were regularly full of people complaining about yet another extremely unpopular change? Remove the entire forum… I wish I was joking. On the other hand, if I were to steel-man their position, I can appreciate that the scale of their user-base and their comparatively small team probably drove them to find solutions that do not require a lot of moderation. Even though I want to be understanding, it’s undeniable that many people found the way these changes were implemented to be quite out of touch with their user-base. I also think that they could have tried more of a Wikipedia approach, where they could have let the community moderate itself, which would have been a lot more in line with their mission.</p>
<p>With the way this push towards additional monetization is going, I have to say I can’t wait to learn how to order a</p>

CorporateCola™

<p>at</p>

BigBurger®

<p>in Spanish as a Tier 6 ultra-max-premium user! ;)</p>
<p>Jokes aside, I just wish the Duolingo team would have stuck a bit more to their roots, and build systems that complement these roots rather than replace them. Of course the business has to make money to grow, but what was wrong with the ads model and the standard premium subscription prior to the addition of features that just seem to annoy? I have a feeling there’s a management consultant somewhere in the Pittsburgh, PA area that we can blame for all this…</p>
<p><br>
</p>
</section>
<section id="final-judgement" class="level2">
<h2 class="anchored" data-anchor-id="final-judgement">Final Judgement</h2>
<ul>
<li><p>Is Duolingo a good free resource to use? Absolutely. There are few apps that can compete in terms of the amount of free content. The whole package is pretty well-designed, especially if you are learning one of the popular languages like English, Spanish, or French.</p></li>
<li><p>Will you learn a language to fluency using Duolingo alone? Maybe not, but it can be a good start, and complement your language learning journey. You just have to be a bit more proactive in seeking out speaking and writing practice. I think most Duolingo critical people neglect to recognize that the power of Duolingo is not that it is a comprehensive learning experience, instead it simply makes it easy to do some learning. Think about it this way: If it hadn’t been for Duolingo, I probably wouldn’t have learned any French at all. In my books, that makes using it worth it.</p></li>
<li><p>Is Duolingo a good company? All things considered, yes - although I find the push towards further monetization a bit annoying.</p></li>
<li><p>Will I stop using Duolingo since I have a few gripes with it? Almost certainly not - at least not until I find something that is better and just as easy to use. I don’t have the bandwidth for more traditional methods of learning at the moment, but even once I do, I think Duolingo will still be part of my routine.</p></li>
</ul>
<p>And with that, happy learning!</p>


</section>

</main> <!-- /main -->
<div id="utterances-container"></div>

<div id="utterances-container"></div>

<script>
class UtterancesThemeManager {
  constructor() {
    this.container = document.getElementById('utterances-container');
    this.loaded = false;
    this.init();
  }

  getTheme() {
    const checks = [
      () => document.body.classList.contains('quarto-dark'),
      () => document.documentElement.classList.contains('quarto-dark'),
      () => document.body.getAttribute('data-bs-theme') === 'dark',
      () => document.documentElement.getAttribute('data-bs-theme') === 'dark',
      () => document.body.classList.contains('dark'),
      () => document.documentElement.classList.contains('dark')
    ];

    return checks.some(check => {
      try { return check(); } catch { return false; }
    }) ? 'dark' : 'light';
  }

  async waitForPageReady() {
    return new Promise((resolve) => {
      const checkReady = () => {
        const conditions = [
          document.readyState === 'complete',
          document.body.offsetHeight > 0, 
          window.getComputedStyle(document.body).backgroundColor !== '', 
          !document.querySelector('link[rel="stylesheet"]:not([media="print"])') || 
          Array.from(document.querySelectorAll('link[rel="stylesheet"]:not([media="print"])')).every(link => link.sheet)
        ];

        if (conditions.every(Boolean)) {
          setTimeout(resolve, 200);
        } else {
          setTimeout(checkReady, 50);
        }
      };

      checkReady();
    });
  }

  async loadUtterances() {
    if (this.loaded) return;

    try {
      await this.waitForPageReady();

      let theme = this.getTheme();
      await new Promise(resolve => setTimeout(resolve, 100));

      const stableTheme = this.getTheme();
      if (theme !== stableTheme) {
        theme = stableTheme;
        await new Promise(resolve => setTimeout(resolve, 100));
      }

      console.log('Loading Utterances with theme:', theme);

      this.container.innerHTML = '';

      const script = document.createElement('script');
      script.src = 'https://utteranc.es/client.js';
      script.setAttribute('repo', 'lukmayer/site_comments');
      script.setAttribute('issue-term', 'pathname');
      script.setAttribute('theme', theme === 'dark' ? 'github-dark' : 'github-light');
      script.setAttribute('crossorigin', 'anonymous');
      script.setAttribute('async', '');

      script.onload = () => {
        this.loaded = true;
        console.log('Utterances successfully loaded');
      };

      this.container.appendChild(script);

    } catch (error) {
      console.error('Error loading Utterances:', error);
    }
  }

  updateTheme() {
    const iframe = document.querySelector('.utterances-frame');
    if (iframe) {
      const theme = this.getTheme();
      const utterancesTheme = theme === 'dark' ? 'github-dark' : 'github-light';

      try {
        iframe.contentWindow.postMessage(
          { type: 'set-theme', theme: utterancesTheme },
          'https://utteranc.es'
        );
        console.log('Updated Utterances theme to:', theme);
      } catch (e) {
        console.warn('Failed to update Utterances theme:', e);
      }
    }
  }

  setupObservers() {
    let updateTimeout;
    const debouncedUpdate = () => {
      clearTimeout(updateTimeout);
      updateTimeout = setTimeout(() => this.updateTheme(), 150);
    };

    const observerConfig = {
      attributes: true,
      attributeFilter: ['class', 'data-bs-theme']
    };

    [document.body, document.documentElement].forEach(element => {
      const observer = new MutationObserver(debouncedUpdate);
      observer.observe(element, observerConfig);
    });
  }

  init() {
    this.setupObservers();

    if (document.readyState === 'loading') {
      window.addEventListener('load', () => {
        setTimeout(() => this.loadUtterances(), 300);
      });
    } else {
      setTimeout(() => this.loadUtterances(), 500);
    }
  }
}

new UtterancesThemeManager();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https://www.lukmayer.github.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/lukmayer/website">
      <i class="bi bi-code-slash" role="img" aria-label="Source code">
</i> 
    </a>
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://quarto.org">
<p>Made with <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewbox="0 0 24 24"><path fill="currentColor" d="M12.65 12.854V24c6.042-.325 10.923-5.105 11.33-11.125H12.65Zm-1.504 0H.02c.427 5.94 5.166 10.699 11.105 11.105V12.854Zm1.505-1.505H24C23.675 5.247 18.753.325 12.65 0Zm-1.505 0V0C5.106.427.326 5.308 0 11.35Z"></path></svg></p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="../../blog/index.xml">
      <i class="bi bi-rss-fill" role="img" aria-label="Blog RSS feed">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>